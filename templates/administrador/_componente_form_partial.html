{% load static %}

<div class="modal-card">
  <div class="modal-header">
    <div style="display:flex;align-items:center;gap:12px">
      <span style="font-size:1.4rem;display:inline-flex;width:44px;height:44px;border-radius:10px;align-items:center;justify-content:center;background:rgba(255,255,255,0.08)"><i class="fas fa-plus"></i></span>
      <div>
        <h3>Agregar componente</h3>
        <div style="opacity:0.9;font-size:0.95rem">Complete los datos del componente</div>
      </div>
    </div>
    <div>
      <button class="close-btn"><i class="fas fa-times"></i></button>
    </div>
  </div>

  <form method="post" enctype="multipart/form-data" style="margin:0">
    {% csrf_token %}
    <div class="modal-body">
      <div class="left-col">
        <div class="field">
          <label for="id_nombre">NOMBRE:</label>
          {{ form.nombre }}
        </div>

        <div class="field">
          <label for="id_laboratorio">LABORATORIO:</label>
          {{ form.laboratorio }}
        </div>

        <div class="field">
          <label for="id_descripcion">DESCRIPCIÃ“N:</label>
          {{ form.descripcion }}
        </div>

        <div class="files-box">
          <label style="font-weight:700;color:#334155">ARCHIVOS</label>
          <div style="margin-top:8px">
            <label for="id_imagen" style="display:block;font-size:0.9rem;color:#475569;margin-bottom:8px">Imagen de componente</label>
            {{ form.imagen }}
          </div>
        </div>
      </div>

      <div class="right-col">
        <div style="font-weight:700;color:#334155;margin-bottom:10px">VISTA PREVIA</div>
        <div class="preview-box" id="previewBox">
          <div class="no-image" id="noImageBlock">
            <i class="fas fa-puzzle-piece" style="font-size:34px;color:#cbd5e1"></i>
            <div>No hay imagen</div>
          </div>
          <img id="previewImg" src="" alt="" style="display:none" />
        </div>
      </div>
    </div>

    <div class="modal-footer">
      <a href="{% url 'componentes_list' %}" class="btn-secondary">Cancelar</a>
      <button type="submit" class="btn-primary">Guardar componente</button>
    </div>
  </form>
</div>
