{% extends 'superadministrador/base_superadmin.html' %}
{% load static %}
{% block title %}Bienvenido al Sistema de Laboratorios{% endblock %}

{% block content %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/superadministrador/panel_superadmin.css' %}">
    <div class="dashboard-container">
        <!-- HEADER -->
        <div class="dashboard-header">
            <div class="header-top">
                <div class="welcome-section">
                    <h1>Panel de Control Superadministrador</h1>
                    <p>Gestión completa del sistema educativo</p>
                </div>
                
                <div class="user-info">
                    <div class="user-avatar">
                        <i class="fas fa-user-shield"></i>
                    </div>
                    <div class="user-details">
                        <h3>Super Administrador</h3>
                        <p>Nivel de acceso: Máximo</p>
                    </div>
                    <div class="superuser-badge">SUPER</div>
                </div>

                <div class="date-section">
                    <div class="current-date" id="currentDate">Lunes, 25 de Diciembre 2024</div>
                    <div class="current-time" id="currentTime">14:30:45</div>
                </div>
            </div>

            <div class="quick-stats">
                <div class="stat-card" onclick="navigateTo('colegios')">
                    <div class="stat-icon">
                        <i class="fas fa-school"></i>
                    </div>
                    <div class="stat-value">24</div>
                    <div class="stat-label">Colegios Activos</div>
                </div>
                <div class="stat-card" onclick="navigateTo('usuarios')">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-value">1,248</div>
                    <div class="stat-label">Usuarios Totales</div>
                </div>
                <div class="stat-card" onclick="navigateTo('estadisticas')">
                    <div class="stat-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="stat-value">98%</div>
                    <div class="stat-label">Sistema Activo</div>
                </div>
                <div class="stat-card" onclick="navigateTo('alertas')">
                    <div class="stat-icon">
                        <i class="fas fa-bell"></i>
                    </div>
                    <div class="stat-value">3</div>
                    <div class="stat-label">Alertas Activas</div>
                </div>
            </div>
        </div>

        <!-- CONTENIDO PRINCIPAL -->
        <div class="dashboard-content">
            <div class="content-grid">
                <!-- MÓDULOS PRINCIPALES -->
                <div class="modules-section">
                    <h2>Módulos del Sistema</h2>
                    <div class="modules-grid">
                        <div class="module-card" onclick="navigateTo('colegios')">
                            <div class="module-icon">
                                <i class="fas fa-school"></i>
                            </div>
                            <h3 class="module-title">Gestión de Colegios</h3>
                            <p class="module-description">Administre colegios, docentes y información institucional del sistema educativo.</p>
                            <div class="module-stats">
                                <span>24 colegios registrados</span>
                                <i class="fas fa-arrow-right"></i>
                            </div>
                        </div>

                        <div class="module-card" onclick="navigateTo('usuarios')">
                            <div class="module-icon">
                                <i class="fas fa-users-cog"></i>
                            </div>
                            <h3 class="module-title">Gestión de Usuarios</h3>
                            <p class="module-description">Controle accesos, permisos y roles de todos los usuarios del sistema.</p>
                            <div class="module-stats">
                                <span>1,248 usuarios activos</span>
                                <i class="fas fa-arrow-right"></i>
                            </div>
                        </div>

                        <div class="module-card" onclick="navigateTo('estadisticas')">
                            <div class="module-icon">
                                <i class="fas fa-chart-bar"></i>
                            </div>
                            <h3 class="module-title">Estadísticas y Reportes</h3>
                            <p class="module-description">Visualice métricas y reportes del sistema en tiempo real.</p>
                            <div class="module-stats">
                                <span>15 reportes disponibles</span>
                                <i class="fas fa-arrow-right"></i>
                            </div>
                        </div>

                        <div class="module-card" onclick="navigateTo('configuracion')">
                            <div class="module-icon">
                                <i class="fas fa-cogs"></i>
                            </div>
                            <h3 class="module-title">Configuración del Sistema</h3>
                            <p class="module-description">Ajuste parámetros del sistema y configuraciones generales.</p>
                            <div class="module-stats">
                                <span>Configuración avanzada</span>
                                <i class="fas fa-arrow-right"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ACTIVIDAD RECIENTE -->
                <div class="activity-section">
                    <h2>Actividad Reciente</h2>
                    <div class="activity-list">
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-user-plus"></i>
                            </div>
                            <div class="activity-content">
                                <h4>Nuevo usuario registrado</h4>
                                <p>María González se unió al sistema</p>
                            </div>
                            <div class="activity-time">Hace 5 min</div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-school"></i>
                            </div>
                            <div class="activity-content">
                                <h4>Colegio actualizado</h4>
                                <p>Colegio San Francisco modificado</p>
                            </div>
                            <div class="activity-time">Hace 15 min</div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div class="activity-content">
                                <h4>Backup completado</h4>
                                <p>Copia de seguridad del sistema</p>
                            </div>
                            <div class="activity-time">Hace 1 hora</div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="activity-content">
                                <h4>Reporte generado</h4>
                                <p>Estadísticas mensuales creadas</p>
                            </div>
                            <div class="activity-time">Hace 2 horas</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- GRÁFICOS Y ESTADÍSTICAS -->
            <div class="charts-section">
                <div class="chart-card">
                    <h3>Uso del Sistema por Módulo</h3>
                    <div class="chart-placeholder">
                        <i class="fas fa-chart-pie" style="font-size: 3rem; margin-right: 15px;"></i>
                        Gráfico de uso del sistema
                    </div>
                </div>
                <div class="chart-card">
                    <h3>Actividad Mensual</h3>
                    <div class="chart-placeholder">
                        <i class="fas fa-chart-line" style="font-size: 3rem; margin-right: 15px;"></i>
                        Gráfico de actividad
                    </div>
                </div>
            </div>

            
    <script>
        // Actualizar fecha y hora en tiempo real
        function updateDateTime() {
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('currentDate').textContent = now.toLocaleDateString('es-ES', options);
            document.getElementById('currentTime').textContent = now.toLocaleTimeString('es-ES');
        }

        // Actualizar cada segundo
        setInterval(updateDateTime, 1000);
        updateDateTime();

        // Navegación entre módulos
        function navigateTo(module) {
            // Aquí iría la lógica de navegación real
            console.log(`Navegando a: ${module}`);
            // Por ahora solo mostramos un alert
            const moduleNames = {
                'colegios': 'Gestión de Colegios',
                'usuarios': 'Gestión de Usuarios', 
                'estadisticas': 'Estadísticas y Reportes',
                'configuracion': 'Configuración del Sistema',
                'alertas': 'Sistema de Alertas'
            };
            
            // Simular navegación - en producción esto redirigiría a la URL correspondiente
            alert(`Redirigiendo a: ${moduleNames[module] || module}`);
        }

        // Efectos hover mejorados para tarjetas
        document.querySelectorAll('.module-card, .stat-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-8px)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });

        // Cargar datos dinámicos (simulado)
        function loadDashboardData() {
            // Simular carga de datos del servidor
            setTimeout(() => {
                // Aquí iría la lógica real para cargar datos del backend
                console.log('Datos del dashboard cargados');
            }, 1000);
        }

        // Inicializar dashboard
        document.addEventListener('DOMContentLoaded', function() {
            loadDashboardData();
        });
    </script>
{% endblock %}