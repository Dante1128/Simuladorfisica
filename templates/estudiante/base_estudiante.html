{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{% block title %}Panel del Estudiante{% endblock %}</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root {
    --color-fondo: #F3F3E0;
    --color-primario: #133E87;
    --color-secundario: #608BC1;
    --color-texto: #333333;
}

* {margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}

body {
    background-color: var(--color-fondo);
    color: var(--color-texto);
    display:flex;
    min-height:100vh;
    overflow:hidden;
}

/* Sidebar fijo */
.sidebar {
    position: fixed;
    top:0;
    left:0;
    height:100%;
    width:280px;
    background: linear-gradient(180deg, var(--color-primario) 0%, #0d2e63 100%);
    color:white;
    display:flex;
    flex-direction:column;
    box-shadow: 3px 0 15px rgba(0,0,0,0.15);
    z-index:100;
}

.sidebar-header {
    padding:30px 25px;
    display:flex;
    align-items:center;
    gap:15px;
    border-bottom:1px solid rgba(255,255,255,0.15);
}

.sidebar-header img {
    width:80px;
    height:80px;
    border-radius:50%;
    background-color:white;
    object-fit:cover;
}

.sidebar-header h2 {
    font-size:20px;
    font-weight:600;
}

.sidebar-menu {
    padding:25px 0;
    flex-grow:1;
    overflow-y:auto;
}

.menu-item {
    padding:16px 25px;
    display:flex;
    align-items:center;
    gap:15px;
    cursor:pointer;
    border-left:4px solid transparent;
    margin:5px 0;
    transition: all 0.3s;
}

.menu-item:hover { background-color: rgba(255,255,255,0.12); transform: translateX(5px);}
.menu-item.active { background-color: rgba(255,255,255,0.18); border-left:4px solid var(--color-secundario);}
.menu-item i { font-size:20px; width:24px; text-align:center;}
.menu-item span { font-size:16px; font-weight:500;}

.sidebar-footer {
    padding:25px;
    border-top:1px solid rgba(255,255,255,0.15);
    background-color: rgba(0,0,0,0.1);
}

.user-info { display:flex; align-items:center; gap:15px; margin-bottom:20px;}
.user-avatar { width:50px; height:50px; border-radius:50%; background: linear-gradient(135deg,var(--color-secundario),var(--color-primario)); display:flex; align-items:center; justify-content:center; font-weight:bold; font-size:18px; color:white;}
.user-details h4 { font-size:16px; margin-bottom:5px; font-weight:600;}
.user-details p { font-size:14px; opacity:0.85;}

.logout-btn { width:100%; padding:12px; background: linear-gradient(135deg, rgba(255,255,255,0.15), rgba(255,255,255,0.05)); border:1px solid rgba(255,255,255,0.2); border-radius:8px; color:white; cursor:pointer; display:flex; align-items:center; justify-content:center; gap:10px; font-weight:500; font-size:15px; transition: all 0.3s;}
.logout-btn:hover { background: rgba(255,255,255,0.2); transform:translateY(-2px); }

/* Main content centrado y proporcional */
.main-content {
    margin-left:280px; /* espacio para sidebar fijo */
    flex-grow:1;
    height:100vh;
    overflow-y:auto;
    padding:40px;
    display:flex;
    justify-content:center; /* centro horizontal */
    align-items:flex-start; /* contenido desde arriba */
    background-color: var(--color-fondo);
}

/* Contenido interno */
.content-wrapper {
    width:100%;
    max-width:1200px; /* tamaño proporcional */
}

/* Scroll solo para contenido */
.main-content::-webkit-scrollbar {
    width:8px;
}
.main-content::-webkit-scrollbar-thumb {
    background-color: rgba(0,0,0,0.2);
    border-radius:4px;
}
.main-content::-webkit-scrollbar-track {
    background: transparent;
}
</style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-header">
            <img src="{% static 'img/estudiante.png' %}" alt="Estudiante">
            <h2>Sistema Académico</h2>
        </div>
        
        <div class="sidebar-menu">
            <div class="menu-item active"><i class="fas fa-home"></i><span>Inicio</span></div>
            <div class="menu-item" onclick="window.location.href='{% url 'contenido_teorico' %}'"><i class="fas fa-book"></i><span>Contenido Teórico</span></div>
            <div class="menu-item" onclick="window.location.href='{% url 'componentes_estudiante' %}'"><i class="fas fa-microscope"></i><span>Componentes 3D</span></div>
            <div class="menu-item" onclick="window.location.href='{% url 'estudiantes_laboratorios_list' %}'"><i class="fas fa-flask"></i><span>Laboratorios</span></div>
        </div>
        
        <div class="sidebar-footer">
            <div class="user-info">
                <div class="user-avatar">JP</div>
                <div class="user-details">
                    <h4>Juan Pérez</h4>
                    <p>Estudiante</p>
                </div>
            </div>
            <form method="post" action="{% url 'logout' %}">
                {% csrf_token %}
                <button type="submit" class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i><span>Cerrar Sesión</span>
                </button>
            </form>
        </div>
    </div>

    <!-- Main content area -->
    <div class="main-content">
        <div class="content-wrapper">
            {% block content %}
            {% endblock %}
        </div>
    </div>

<script>
    // Activar elementos del menú
    document.querySelectorAll('.menu-item').forEach(item => {
        item.addEventListener('click', function() {
            document.querySelectorAll('.menu-item').forEach(i => i.classList.remove('active'));
            this.classList.add('active');
        });
    });
</script>
</body>
</html>
