{% extends 'cliente/baseCliente.html' %}
{% load youtube_tags %}
{% block content %}
<link rel="stylesheet" href="{% static 'componentes/css/componentes.css' %}">
<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

<div class="detail-wrap">
  <h1>{{ componente.nombre }}</h1>
  <div class="detail-grid">
    <div class="viewer">
      {% if componente.modelo_3d %}
        <model-viewer src="{{ componente.modelo_3d.url }}" alt="{{ componente.nombre }}" camera-controls auto-rotate interaction-prompt="auto" style="width:100%; height:480px;"></model-viewer>
      {% elif componente.imagen %}
        <img src="{{ componente.imagen.url }}" alt="{{ componente.nombre }}" style="max-width:100%">
      {% endif %}
    </div>

    <div class="info">
      <p><strong>Laboratorio:</strong> {{ componente.laboratorio.nombre }}</p>
      <p>{{ componente.descripcion }}</p>

      {% if componente.especificaciones %}
      <h4>Especificaciones</h4>
        <ul>
          {% for key,val in componente.especificaciones.items %}
            <li><strong>{{ key }}:</strong> {{ val }}</li>
          {% endfor %}
        </ul>
      {% endif %}

      {% if componente.video_youtube %}
        <h4>Video explicativo</h4>
        <div class="video-wrapper">
          <iframe width="560" height="315" src="https://www.youtube.com/embed/{{ componente.video_youtube|youtube_id }}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
